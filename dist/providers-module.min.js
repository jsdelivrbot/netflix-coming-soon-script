/*! netflix-coming-soon-script v1.0.0 ~ 2016-06-04 */
define(["exports"],function(a){"use strict";var b=[],c=function(a){console.log("Registering movie provider "+a.name),b.push(a)};c({name:"UnoGS",url:"unogs.com",nodeListSelector:"#listdiv > a",nodeParser:function(a){var b=a.getAttribute("href").match(/\/video\/\?v\=(\d+)/)[1],c=a.querySelector("b").textContent,d=a.querySelector("img.img-rounded").src;return{id:b,title:c,thumb:d}}}),c({name:"FlickSurfer",url:"flicksurfer.com",nodeListSelector:".flicks > .media",nodeParser:function(a){var b=a.querySelector('a[href*="netflix.com"]'),c=b.getAttribute("href").match(/\/WiMovie\/(\d+)/)[1],d=a.querySelector("h4.media-heading").textContent,e=a.querySelector(".movie-image > img").getAttribute("data-original");return{id:c,title:d,thumb:e}}}),c({name:"FlixList",url:"flixlist.com.au",nodeListSelector:"#titles > .title",nodeParser:function(a){var b=a.querySelector("a.link-title"),c=b.getAttribute("href").match(/\/titles\/(\d+)/)[1],d=a.querySelector("img").title,e=a.querySelector("img").src;return{id:c,title:d,thumb:e}}}),c({name:"Moreflicks",url:"moreflicks.com",nodeListSelector:".grid > .ubu-lineup__item",nodeParser:function(a){var b=a.querySelector('a[href*="netflix.com"]'),c=b.getAttribute("href").match(/\/watch\/(\d+)/)[1],d=a.querySelector(".ubu-cta__link").textContent,e=a.querySelector("img").getAttribute("data-asset");return{id:c,title:d,thumb:e}}}),c({name:"InstantWatcher",url:"instantwatcher.com",nodeListSelector:".title-results-page .list-title",nodeParser:function(a){var b=a.querySelector('a[href*="netflix.com"]'),c=b.getAttribute("href").match(/\/watch\/(\d+)/)[1],d=a.querySelector(".title > .title-link").textContent,e=a.querySelector("img.iw-boxart").src;return{id:c,title:d,thumb:e}}}),a.load=function(){var a=[];if(b.forEach(function(b){if(-1!==location.href.indexOf(b.url)){var c=document.querySelectorAll(b.nodeListSelector);return Array.prototype.forEach.call(c,function(c){try{a.push(b.nodeParser.call(this,c))}catch(a){console.error(a)}}),!1}}),a.length>0){var c=JSON.stringify(a);c=btoa(unescape(encodeURIComponent(c))),NetflixScriptHelper.showDialog("templates/provider-generated-code.html",{numberOfTitles:a.length,codeToCopy:c})}else alert("Ejecuta el script primero desde una de las webs compatibles ("+b.map(function(a){return a.name}).join(", ")+") y asegúrate de estar en la sección del buscador o donde aparezca la lista de títulos de Netflix.")}});